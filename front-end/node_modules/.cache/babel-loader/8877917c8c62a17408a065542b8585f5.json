{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yasmin/WebstormProjects/software-front-ts/front-end/src/components/folder/folder.tsx\";\nimport React from \"react\";\nimport { instanceOfFileItem } from \"../file/file-interfaces\";\n\nclass Folder extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isOpen: false\n    };\n\n    this.handleToggle = e => {\n      e.preventDefault();\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    };\n\n    this.shouldOpen = (children, current) => {\n      return children.some(item => {\n        if (instanceOfFileItem(item)) {\n          return item.similarities.some(s => s.id === current);\n        } else {\n          return this.shouldOpen(item.children, current);\n        }\n      });\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const {\n      children,\n      current\n    } = this.props;\n\n    if (current !== prevProps.current) {\n      if (this.shouldOpen(children.props.data, current)) {\n        this.setState({\n          isOpen: true\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      name,\n      children\n    } = this.props;\n    const {\n      isOpen\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: e => this.handleToggle(e),\n        children: [name, \"/\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isOpen ? `d-block pl-2` : `d-none`,\n        children: children\n      }, name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default Folder;","map":{"version":3,"sources":["/Users/yasmin/WebstormProjects/software-front-ts/front-end/src/components/folder/folder.tsx"],"names":["React","instanceOfFileItem","Folder","Component","state","isOpen","handleToggle","e","preventDefault","setState","shouldOpen","children","current","some","item","similarities","s","id","componentDidUpdate","prevProps","prevState","snapshot","props","data","render","name"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAAkBC,kBAAlB,QAA2C,yBAA3C;;AAEA,MAAMC,MAAN,SAAsBF,KAAK,CAACG,SAA5B,CAA8D;AAAA;AAAA;AAAA,SAC1DC,KAD0D,GAClD;AACJC,MAAAA,MAAM,EAAE;AADJ,KADkD;;AAAA,SAe1DC,YAf0D,GAe1CC,CAAD,IAA0C;AACrDA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKC,QAAL,CAAc;AAACJ,QAAAA,MAAM,EAAE,CAAC,KAAKD,KAAL,CAAWC;AAArB,OAAd;AACH,KAlByD;;AAAA,SAoB1DK,UApB0D,GAoB7C,CAACC,QAAD,EAAmCC,OAAnC,KAA8D;AACvE,aAAOD,QAAQ,CAACE,IAAT,CAAcC,IAAI,IAAI;AACzB,YAAIb,kBAAkB,CAACa,IAAD,CAAtB,EAA8B;AAC1B,iBAAOA,IAAI,CAACC,YAAL,CAAkBF,IAAlB,CAAuBG,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,OAArC,CAAP;AACH,SAFD,MAGM;AACF,iBAAO,KAAKF,UAAL,CAAgBI,IAAI,CAACH,QAArB,EAA+BC,OAA/B,CAAP;AACH;AACJ,OAPM,CAAP;AASH,KA9ByD;AAAA;;AAK1DM,EAAAA,kBAAkB,CAACC,SAAD,EAAwBC,SAAxB,EAA+CC,QAA/C,EAA6D;AAE3E,UAAM;AAACV,MAAAA,QAAD;AAAUC,MAAAA;AAAV,QAAqB,KAAKU,KAAhC;;AACA,QAAGV,OAAO,KAAKO,SAAS,CAACP,OAAzB,EAAiC;AAC7B,UAAG,KAAKF,UAAL,CAAgBC,QAAQ,CAACW,KAAT,CAAeC,IAA/B,EAAqCX,OAArC,CAAH,EAAiD;AAC7C,aAAKH,QAAL,CAAc;AAACJ,UAAAA,MAAM,EAAE;AAAT,SAAd;AACH;AACJ;AACJ;;AAkBDmB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEC,MAAAA,IAAF;AAAQd,MAAAA;AAAR,QAAoB,KAAKW,KAA/B;AACA,UAAM;AAACjB,MAAAA;AAAD,QAAW,KAAKD,KAAtB;AAEA,wBACI;AAAA,8BACI;AAAM,QAAA,OAAO,EAAGG,CAAD,IAAK,KAAKD,YAAL,CAAkBC,CAAlB,CAApB;AAAA,mBAA2CkB,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAEpB,MAAM,GAAI,cAAJ,GAAqB,QAA3C;AAAA,kBACiBM;AADjB,SACUc,IADV;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH;;AA1CyD;;AA2C7D;AAGD,eAAevB,MAAf","sourcesContent":["import React from \"react\";\nimport {FolderItem, FolderProps, FolderState} from \"./folder-interfaces\";\nimport {FileItem, instanceOfFileItem} from \"../file/file-interfaces\";\n\nclass Folder  extends React.Component<FolderProps,FolderState>{\n    state = {\n        isOpen: false\n    }\n\n    componentDidUpdate(prevProps:FolderProps, prevState:FolderState, snapshot:any) {\n\n        const {children,current} = this.props;\n        if(current !== prevProps.current){\n            if(this.shouldOpen(children.props.data, current)){\n                this.setState({isOpen: true})\n            }\n        }\n    }\n\n    handleToggle = (e: React.MouseEvent<HTMLSpanElement>) => {\n        e.preventDefault();\n        this.setState({isOpen: !this.state.isOpen});\n    };\n\n    shouldOpen = (children:(FileItem|FolderItem)[], current:string):boolean => {\n        return children.some(item => {\n            if (instanceOfFileItem(item)) {\n                return item.similarities.some(s => s.id === current)\n            }\n            else  {\n                return this.shouldOpen(item.children, current)\n            }\n        });\n\n    }\n    render() {\n        const { name, children} = this.props;\n        const {isOpen} = this.state;\n\n        return (\n            <div>\n                <span onClick={(e)=>this.handleToggle(e)}>{name}/</span>\n                <div className={isOpen ? `d-block pl-2` : `d-none`}\n                     key={name}>{children}</div>\n            </div>\n        );\n    }\n};\n\n\nexport default Folder;\n\n\n"]},"metadata":{},"sourceType":"module"}